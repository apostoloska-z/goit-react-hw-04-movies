(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{31:function(t,e,r){"use strict";r.d(e,"e",(function(){return p})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return l})),r.d(e,"a",(function(){return j})),r.d(e,"d",(function(){return b}));var n=r(37),c=r.n(n),a=r(38),s=r(39),i=r.n(s),o="https://api.themoviedb.org/3/",u="d20d59385a24fc2bb8d46bbba54c1ffd",p=function(){var t=Object(a.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"trending/movie/day?api_key=").concat(u));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(a.a)(c.a.mark((function t(e){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(e,"&page=1&include_adult=false"));case 2:return r=t.sent,t.abrupt("return",r.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(a.a)(c.a.mark((function t(e){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"movie/").concat(e,"?api_key=").concat(u));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(c.a.mark((function t(e){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(u,"&page=1"));case 2:return r=t.sent,t.abrupt("return",r.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(a.a)(c.a.mark((function t(e){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(u,"&page=1"));case 2:return r=t.sent,t.abrupt("return",r.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},32:function(t,e,r){"use strict";e.a=r.p+"static/media/No-image.35c079b5.jpg"},70:function(t,e,r){},72:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}r.r(e);var a=r(33),s=r(34),i=r(36),o=r(35),u=r(0),p=r(31),h=r(8),l=r(2),j=r(1),b=function(t){var e=t.reviews;return Object(j.jsx)(j.Fragment,{children:e.length>1?Object(j.jsx)("ul",{children:e.map((function(t){return Object(j.jsxs)("li",{children:[Object(j.jsxs)("h3",{children:["Author: ",t.author]}),Object(j.jsx)("p",{children:t.content})]})}))}):Object(j.jsx)("h3",{children:"Sorry, there are no reviews available for this movie."})})},d=r(32),f=(r(70),function(t){var e=t.cast;return Object(j.jsx)("ul",{className:"cast",children:e.map((function(t){return Object(j.jsxs)("li",{className:"cast__item",children:[Object(j.jsx)("img",{className:"cast__photo",src:t.profile_path?"https://image.tmdb.org/t/p/w300".concat(t.profile_path):d.a,alt:t.name}),Object(j.jsx)("h3",{children:t.name}),Object(j.jsxs)("p",{children:["Character: ",t.character]})]},t.name)}))})}),v=function(t){Object(i.a)(r,t);var e=Object(o.a)(r);function r(){var t;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).state={poster_path:null,original_title:null,vote_average:null,overview:null,genres:[],cast:[],reviews:[]},t.handleGoBack=function(){var e=t.props,r=e.location,n=e.history;if(r.state&&r.state.from)return n.push(r.state.from);n.push("/")},t}return Object(s.a)(r,[{key:"componentDidMount",value:function(){var t=this;Object(p.c)(this.props.match.params.movieId).then((function(e){return t.setState(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e))})),Object(p.a)(this.props.match.params.movieId).then((function(e){return t.setState({cast:e})})),Object(p.d)(this.props.match.params.movieId).then((function(e){return t.setState({reviews:e})}))}},{key:"render",value:function(){var t=this;return Object(j.jsxs)("div",{className:"movie-page__container",children:[Object(j.jsx)("button",{className:"button",type:"button",onClick:this.handleGoBack,children:"Go back"}),Object(j.jsxs)("div",{className:"movie",children:[Object(j.jsx)("img",{className:"movie__poster",src:"https://image.tmdb.org/t/p/w500".concat(this.state.poster_path," "),alt:this.state.original_title}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:this.state.original_title}),Object(j.jsxs)("p",{children:["User Score: ",10*this.state.vote_average,"%"]}),Object(j.jsx)("h3",{children:"Overview"}),Object(j.jsx)("p",{children:this.state.overview}),Object(j.jsx)("h3",{children:"Genres"}),Object(j.jsx)("p",{children:this.state.genres.map((function(t){return Object(j.jsx)("li",{children:t.name},t.id)}))})]})]}),Object(j.jsxs)("div",{className:"details",children:[Object(j.jsx)("h3",{children:"Additional information"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{className:"details__item",children:Object(j.jsx)(h.c,{to:"".concat(this.props.match.url,"/cast"),children:"Cast"})}),Object(j.jsx)("li",{className:"details__item",children:Object(j.jsx)(h.c,{to:"".concat(this.props.match.url,"/reviews"),children:"Reviews"})})]}),Object(j.jsx)(l.a,{path:"".concat(this.props.match.path,"/cast"),render:function(){return Object(j.jsx)(f,{cast:t.state.cast})}}),Object(j.jsx)(l.a,{path:"".concat(this.props.match.path,"/reviews"),render:function(){return Object(j.jsx)(b,{reviews:t.state.reviews})}})]})]})}}]),r}(u.Component);e.default=v}}]);
//# sourceMappingURL=movie-details-page.bf3c96cd.chunk.js.map