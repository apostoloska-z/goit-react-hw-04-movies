(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{31:function(t,e,n){"use strict";n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return m}));var a=n(37),r=n.n(a),c=n(38),s=n(39),u=n.n(s),o="https://api.themoviedb.org/3/",i="d20d59385a24fc2bb8d46bbba54c1ffd",p=function(){var t=Object(c.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(o,"trending/movie/day?api_key=").concat(i));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(o,"search/movie?api_key=").concat(i,"&query=").concat(e,"&page=1&include_adult=false"));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(o,"movie/").concat(e,"?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(i,"&page=1"));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(c.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(i,"&page=1"));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},32:function(t,e,n){"use strict";e.a=n.p+"static/media/No-image.35c079b5.jpg"},40:function(t,e,n){},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(40);var a=n(8),r=n(2),c=n(32),s=n(1),u=Object(r.f)((function(t){var e=t.movies,n=t.location;return Object(s.jsx)("ul",{className:"movie-list",children:e.map((function(t){return Object(s.jsx)("li",{className:"movie-list__item",children:Object(s.jsxs)(a.b,{to:{pathname:"/movies/".concat(t.id),state:{from:n}},children:[Object(s.jsx)("img",{className:"movie-poster",src:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):c.a,alt:t.original_title}),Object(s.jsx)("h2",{className:"movie-title",children:t.title})]})},t.id)}))})}))},69:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var a=n(33),r=n(34),c=n(36),s=n(35),u=n(0),o=(n(69),n(1)),i=function(t){Object(c.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).state={query:""},t.handleChange=function(e){t.setState({query:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.query),t.setState({query:""})},t}return Object(r.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("form",{className:"form",onSubmit:this.handleSubmit,children:[Object(o.jsx)("input",{className:"form__input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:this.state.query,onChange:this.handleChange}),Object(o.jsx)("button",{className:"form__button",type:"submit",children:"Search"})]})}}]),n}(u.Component),p=n(41),h=n(31),f=function(t){Object(c.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).state={movies:[],searchQuery:""},t.onChangeQuery=function(e){t.setState({searchQuery:e,movies:[]})},t.uploadMoviesPage=function(){var e=t.state.searchQuery;Object(h.b)(e).then((function(e){t.setState({movies:e})}))},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.location;t.search&&(t.search=t.search.replace(/^\?+/,""),this.setState({searchQuery:t.search}))}},{key:"componentDidUpdate",value:function(t){t.searchQuery!==this.state.searchQuery&&this.uploadMoviesPage(),this.props.location.search=this.state.searchQuery}},{key:"render",value:function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(i,{onSubmit:this.onChangeQuery}),Object(o.jsx)(p.a,{movies:this.state.movies})]})}}]),n}(u.Component);e.default=f}}]);
//# sourceMappingURL=movies-page.bb9bb37e.chunk.js.map